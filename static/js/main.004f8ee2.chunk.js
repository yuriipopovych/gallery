(this["webpackJsonpimg-finder"]=this["webpackJsonpimg-finder"]||[]).push([[0],{23:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),r=n(17),i=n.n(r),o=(n(23),n(8)),s=n(3),u=n(4),l=n(6),h=n(5),d=(n(24),n(25),n(0)),p=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={inputValue:""},t.handleChange=function(e){t.setState({inputValue:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.fetchPictures(t.state.inputValue),t.setState({inputValue:""})},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(d.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(d.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(d.jsx)("input",{value:this.state.inputValue,onChange:this.handleChange,className:"SearchForm-input",type:"text",autoComplete:"off",placeholder:"Search images and photos"})]})}}]),n}(a.Component);function f(t){var e=t.fetchPictures;return Object(d.jsx)("header",{className:"Searchbar",children:Object(d.jsx)(p,{fetchPictures:e})})}n(27),n(28),n(29);function m(t){var e=t.pictures;return Object(d.jsx)(d.Fragment,{children:e.map((function(t){return Object(d.jsx)("li",{className:"ImageGalleryItem",children:Object(d.jsx)("img",{src:t.webformatURL,name:t.id,alt:t.largeImageURL,className:"ImageGalleryItem-image"},t.id)},t.id)}))})}function j(t){var e=t.pictures,n=t.openModal;return Object(d.jsx)("ul",{className:"ImageGallery",onClick:n,children:Object(d.jsx)(m,{pictures:e})})}n(30);function b(t){var e=t.onClick;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("button",{type:"button",className:"Button",onClick:e,children:"Load more"})})}var g=n(18),O=n.n(g),v=function(t,e){return O.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(e,"&key=22355356-a5efa6707afd0b81919f5aa7a&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.data.hits}))},y=(n(49),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).handleDidMount=function(e){"Escape"===e.code&&t.props.closeModalByEsc()},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleDidMount)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleDidMount)}},{key:"render",value:function(){return Object(d.jsx)("div",{className:"Overlay",onClick:this.props.closeModal,children:Object(d.jsx)("div",{className:"Modal",children:Object(d.jsx)("img",{src:this.props.imgSrc,alt:""})})})}}]),n}(a.Component)),S=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={pictures:[],error:null,loading:!1,searchQuery:"",page:1,imgSrc:null},t.fetchPictures=function(){var e=t.state,n=e.searchQuery,a=e.page;v(n,a).then((function(e){return t.setState((function(t){return{pictures:[].concat(Object(o.a)(t.pictures),Object(o.a)(e)),page:t.page+1}}))})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({loading:!1})}))},t.handleSearchFormInput=function(e){t.setState({searchQuery:e,page:1,pictures:[]})},t.openModal=function(e){t.setState({imgSrc:e.target.alt})},t.closeModal=function(e){console.log(e.target),e.target.src!==t.state.imgSrc&&t.setState({imgSrc:null})},t.closeModalByEsc=function(){t.setState({imgSrc:null})},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){e.searchQuery!==this.state.searchQuery&&this.fetchPictures()}},{key:"render",value:function(){var t=this.state.error;return Object(d.jsxs)("div",{children:[t&&Object(d.jsx)("div",{children:"Something went wrong:("}),Object(d.jsx)(f,{fetchPictures:this.handleSearchFormInput}),this.state.pictures.length>0&&Object(d.jsx)(j,{pictures:this.state.pictures,openModal:this.openModal}),this.state.pictures.length>0&&Object(d.jsx)(b,{onClick:this.fetchPictures}),this.state.imgSrc&&Object(d.jsx)(y,{imgSrc:this.state.imgSrc,closeModal:this.closeModal,closeModalByEsc:this.closeModalByEsc})]})}}]),n}(a.Component),x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),r(t),i(t)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root")),x()}},[[50,1,2]]]);
//# sourceMappingURL=main.004f8ee2.chunk.js.map